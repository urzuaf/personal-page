---
import techs from "../data/technologies.json";
---

<section id="tecnologias" class=" pb-20 deco z-40 opacity-100 overflow-x-hidden">
  <div class="">
    <div class="px-20 py-10 m-auto">
      <h2 class="text-3xl font-semibold text-center text-white md:text-5xl">Tecnologias</h2>
    </div>

  <div id="techcontainer">
    {
      techs.map((tech) => (
        <div class="flex flex-col justify-center items-center">
          <div class=" mx-4 lg:mx-auto w-fit  hidden1 flex gap-8 md:gap-20 m-auto px-8 md:px-20 py-8 justify-center  items-center mb-14 flex-col lg:flex-row text-center md:text-left rounded-lg shadow-2xl bg-gray-800 shadow-black/50 ">
            <img
              loading="eager"
              class="w-full md:w-96"
              src={tech.img}
              alt={tech.alt}
            />
            <div class="flex flex-col gap-4">
              <h3 class="text-2xl font-medium text-white">{tech.title}</h3>
              <p class="text-left">{tech.body}</p>
            </div>
          </div>
          <div class="  mx-4 lg:mx-auto w-fit  hidden2 flex gap-8 md:gap-20 m-auto px-8 md:px-20 py-8 justify-center  items-center mb-14 flex-col lg:flex-row-reverse text-center md:text-left rounded-lg shadow-2xl bg-gray-800 shadow-black/50">
            <img
              loading="eager"
              class="w-full md:w-96"
              src={tech.img2}
              alt={tech.alt2}
              width="384"
            />
            <div class="flex flex-col gap-4">
              <h3 class="text-2xl font-medium text-white">{tech.title2}</h3>
              <p class="text-left">{tech.body2}</p>
            </div>
          </div>
        </div>
      ))
    }
  </div>
</section>
<script>
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("show");
      }
      //entry.target.classList.toggle('show', entry.isIntersecting);
    });
  });
  const sectionleft = document.querySelectorAll(".hidden1");
  const sectionright = document.querySelectorAll(".hidden2");

  sectionleft.forEach((section) => observer.observe(section));
  sectionright.forEach((section) => observer.observe(section));
</script>

<style>
  p {
    max-width: 50ch;
  }
  .pa {
    max-width: 110ch;
  }
  .hidden1 {
    opacity: 0;
    transition: all .4s;
    filter: blur(2px);
    transform: translateY(30%);
  }
  .hidden2 {
    opacity: 0;
    transition: ease all .4s;
    filter: blur(2px);
    transform: translateY(30%);
  }

  .show {
    opacity: 1;
    filter: blur(0);
    transform: translateX(0%);
  }

  @media (prefers-reduced-motion) {
    .hidden1 {
      transition: none;
    }
    .hidden2 {
      transition: none;
    }
  }
</style>
